<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>List of JVM command line options</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph tags -->

            <meta property="og:type" content="article"/>
            <meta property="og:title" content="List of JVM command line options"/>
            <meta property="og:url" content="/blog/jvm-options.html"/>
            <meta property="og:description" content="Almost exhaustive list of JVM command line options"/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="/blog/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="/blog/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="/blog/theme/css/pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="/blog/theme/css/style.css" type="text/css"/>
    <!-- JavaScript plugins (requires jQuery) -->
    <script src="http://code.jquery.com/jquery.js"></script>


</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/blog" class="navbar-brand">Senthil Gopal</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="/blog/category/android.html">Android</a>
                        </li>
                        <li >
                            <a href="/blog/category/design.html">Design</a>
                        </li>
                        <li class="active">
                            <a href="/blog/category/java.html">Java</a>
                        </li>
                        <li >
                            <a href="/blog/category/lists.html">Lists</a>
                        </li>
                        <li >
                            <a href="/blog/category/papers.html">Papers</a>
                        </li>
                        <li >
                            <a href="/blog/category/projects.html">Projects</a>
                        </li>
                        <li >
                            <a href="/blog/category/ramblings.html">Ramblings</a>
                        </li>
                        <li >
                            <a href="/blog/category/utilities.html">Utilities</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/blog/archives.html"><i class="icon-th-list"></i>Archives</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</nav>
<!-- /.navbar -->
<div class="container">
    <div class="row">
        <div class="col-lg-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/blog/jvm-options.html"
                       rel="bookmark"
                       title="Permalink to List of JVM command line options">
                        List of JVM command line options
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="icon-calendar"></i>10 Aug 2011
    </span>



<span class="label label-default">Tags</span>
	<a href="/blog/tag/java.html">java</a>
        /
	<a href="/blog/tag/jvm.html">jvm</a>
</footer><!-- /.post-info -->                    </div>
                </div>
                <h2>JVM Optimization and Parameters</h2>
<p>The following notes are obtained from bits and pieces available from various posts on the world wide web. Not all command-line flags are  necessarily supported by any VM other than the one from Sun/Oracle. The best way to  find out whether a flag is supported is, of course, to try it and see if it works.</p>
<h3>Classification</h3>
<p>Options that begin with -X are non-standard (not guaranteed to be supported on all VM implementations), and are subject to change without notice in    subsequent releases of the JDK. Options that are specified with -XX are not stable and are not recommended for casual use.</p>
<h3>Default Values</h3>
<p>Boolean options are turned on with <code>-XX:+&lt;option&gt;</code> and turned off with <code>-XX:-&lt;option&gt;</code>.</p>
<p>Numeric options are set with <code>-XX:&lt;option&gt;=&lt;number&gt;</code>. Numbers can include 'm' or 'M' for megabytes, 'k' or 'K' for kilobytes, and 'g' or'G' for gigabytes (for example, 32k is the same as 32768).</p>
<p>String options are set with <code>-XX:&lt;option&gt;=&lt;string&gt;</code> and are usually used to specify a file, a path or a list of commands</p>
<p><em>As a developer, following are the five important parameters we need to remember</em></p>
<h4>DisableExplicitGC</h4>
<p>To prevent application developers from using System.gc() explicitly. The <code>-XX:+DisableExplicitGC</code> flag automatically turns a System.gc() call into a no-op</p>
<h4>HeapDumpOnOutOfMemoryError</h4>
<p><code>XX:+HeapDumpOnOutOfMemoryError</code> command catches a snapshot of the heap right as the JVM is on its dying breath. The actual path to which the file is saved  using the corresponding <code>-XX:HeapDumpPath</code> flag.</p>
<h4>bootclasspath</h4>
<p><code>-Xbootclasspath</code> lets you set the complete boot classpath, which typically has to include a reference to rt.jar, plus a bunch of other JAR files that ship with the JDK that aren't part of rt.jar. <code>-Xbootclasspath/p</code> prepends the value to the existing bootclasspath, and <code>-Xbootclasspath/a</code> appends it.</p>
<h4>verbose</h4>
<p>-verbose is a useful first-level diagnostic utility for virtually any type of Java application. The flag has three sub-flags: gc, class, and jni.</p>
<p><strong>gc</strong> - is typically the first place developers go to try to figure out if the JVM garbage collector is acting up and causing poor performance.</p>
<p><strong>class</strong> - can be a life-saver for trying to diagnose ClassLoader and/or mismatched class conflicts. It reports not only when a class is loaded, but also where the class was loaded from, including the path to the JAR file, assuming it came from a JAR.</p>
<p><strong>jni</strong> - is of little use except when working with JNI and native libraries. When turned on, it will report various JNI events, such as when native libraries are loaded and methods are bound; again, the output can vary from one release or JVM to  another.</p>
<h3>-X</h3>
<p>Running the command-line argument -X lists all the non-standard (but mostly safe) arguments that the JVM provides.</p>
<p><code>-Xint</code> - which runs the JVM in interpreted mode (which can be useful for testing whether the JIT compiler is actually having an effect on your code or    verifying if you have a bug in the JIT compiler).</p>
<p><code>-Xloggc</code> - which does the same thing as <code>-verbose:gc</code> but logs to a file instead of spewing to the command-line window.</p>
<p>The "not-so-exhaustive" list is given below.</p>
<h4>Behavior Options</h4>
<p><em>Option and its default Value</em> is given for better understanding</p>
<p><strong>-XX:-AllowUserSignalHandlers</strong> - Do not complain if the application installs signal handlers.</p>
<p><strong>-XX:AltStackSize=16384</strong> - Alternate signal stack size (in Kbytes)</p>
<p><strong>-XX:-DisableExplicitGC</strong> - Disable calls to System.gc(), JVM still performs garbage collection when          necessary.</p>
<p><strong>-XX:+FailOverToOldVerifier</strong> - Fail over to old verifier when the new type checker fails.</p>
<p><strong>-XX:+HandlePromotionFailure</strong> - The youngest generation collection does not require a guarantee of full promotion of all live objects.</p>
<p><strong>-XX:+MaxFDLimit</strong> - Bump the number of file descriptors to max.</p>
<p><strong>-XX:PreBlockSpin=10</strong> - Spin count variable for use with <code>**-XX:+UseSpinning</code>. Controls the maximum spin iterations allowed before entering operating system thread synchronization code.</p>
<p><strong>-XX:-RelaxAccessControlCheck</strong> - Relax the access control checks in the verifier.</p>
<p><strong>-XX:+ScavengeBeforeFullGC</strong> - Do young generation GC prior to a full GC.</p>
<p><strong>-XX:+UseAltSigs</strong> - Use alternate signals instead of SIGUSR1 and SIGUSR2 for VM internal signals.</p>
<p><strong>-XX:+UseBoundThreads</strong> - Bind user level threads to kernel threads.</p>
<p><strong>-XX:-UseConcMarkSweepGC</strong> - Use concurrent mark-sweep collection for the old generation.</p>
<p><strong>-XX:+UseGCOverheadLimit</strong> - Use a policy that limits the proportion of the VM's time that is spent in GC before an OutOfMemory error is thrown.</p>
<p><strong>-XX:+UseLWPSynchronization</strong> - Use LWP-based instead of thread based synchronization.</p>
<p><strong>-XX :-UseParallelGC</strong> - Use parallel garbage collection for scavenges.</p>
<p><strong>-XX:-UseParallelOldGC</strong> - Use parallel garbage collection for the full collections. Enabling this          option automatically sets <code>-XX:+UseParallelGC</code></p>
<p><strong>-XX:-UseSerialGC</strong> - Use serial garbage collection.</p>
<p><strong>-XX:-UseSpinning</strong> - Enable naive spinning on Java monitor before entering operating system thread synchronizaton code.</p>
<p><strong>-XX:+UseTLAB</strong> - Use thread-local object allocation</p>
<p><strong>-XX:+UseSplitVerifier</strong> - Use the new type checker with StackMapTable attributes.</p>
<p><strong>-XX:+UseThreadPriorities</strong> - Use native thread priorities.</p>
<p><strong>-XX:+UseVMInterruptibleIO</strong> - Thread interrupt before or with EINTR for I/O operations results in          OS_INTRPT.</p>
<h4>Performance Options</h4>
<p><em>Option and its default Value</em> is given for better understanding</p>
<p><strong>-XX:+AggressiveOpts</strong> - Turn on point performance compiler optimizations that are expected to be          default in upcoming releases.</p>
<p><strong>-XX:CompileThreshold=10000</strong> - Number of method invocations/branches before compiling [-client: 1,500]</p>
<p><strong>-XX:LargePageSizeInBytes=4m</strong> - Sets the large page size used for the Java heap.</p>
<p><strong>-XX:MaxHeapFreeRatio=70</strong> - Maximum percentage of heap free after GC to avoid shrinking.</p>
<p><strong>-XX:MaxNewSize=size</strong> - Maximum size of new generation (in bytes).</p>
<p><strong>-XX:MaxPermSize=64m</strong> - Size of the Permanent Generation.</p>
<p><strong>-XX:MinHeapFreeRatio=40</strong> - Minimum percentage of heap free after GC to avoid expansion.</p>
<p><strong>-XX:NewRatio=2</strong> - Ratio of new/old generation sizes.</p>
<p><strong>-XX:NewSize=2.125m</strong> - Default size of new generation (in bytes)</p>
<p><strong>-XX:ReservedCodeCacheSize=32m</strong> - Reserved code cache size (in bytes)</p>
<p><strong>-XX:SurvivorRatio=8</strong> - Ratio of eden/survivor space size</p>
<p><strong>-XX:TargetSurvivorRatio=50</strong> - Desired percentage of survivor space used after scavenge.</p>
<p><strong>-XX:ThreadStackSize=512</strong> - Thread Stack Size (in Kbytes). (0 means use default stack size)</p>
<p><strong>-XX:+UseBiasedLocking</strong> - Enable biased locking.</p>
<p><strong>-XX:+UseFastAccessorMethods</strong> - Use optimized versions of <code>Get&lt;Primitive&gt;Field</code></p>
<p><strong>-XX:-UseISM</strong> - Use Intimate Shared Memory.</p>
<p><strong>-XX:+UseLargePages</strong> - Use large page memory.</p>
<p><strong>-XX:+UseMPSS</strong> - Use Multiple Page Size Support w/4mb pages for the heap.<em>Do not use with ISM as this replaces the need for ISM</em></p>
<p><strong>-XX:+UseStringCache</strong> - Enables caching of commonly allocated strings.</p>
<p><strong>-XX:AllocatePrefetchLines=1</strong> - Number of cache lines to load after the last object allocation using prefetch instructions generated in JIT compiled code. <em>Default values are 1 if the last allocated object was an instance and 3 if it was an array</em></p>
<p><strong>-XX:AllocatePrefetchStyle=1</strong> - Generate code style for prefetch instructions.</p>
<div class="highlight"><pre><span class="mi">0</span> <span class="o">-</span> <span class="n">no</span> <span class="n">prefetch</span> <span class="n">instructions</span> <span class="n">are</span> <span class="n">generated</span><span class="p">,</span>
<span class="mi">1</span> <span class="o">-</span> <span class="n">execute</span> <span class="n">prefetch</span> <span class="n">instructions</span> <span class="n">after</span> <span class="n">each</span> <span class="n">allocation</span><span class="p">,</span>
<span class="mi">2</span> <span class="o">-</span> <span class="n">use</span> <span class="n">TL</span> <span class="n">AB</span> <span class="n">allocation</span> <span class="n">watermark</span> <span class="n">pointer</span> <span class="n">to</span> <span class="n">gate</span> <span class="n">when</span> <span class="n">prefetch</span> <span class="n">instructions</span> <span class="n">are</span> <span class="n">executed</span><span class="p">.</span>
</pre></div>


<p><strong>-XX:+UseCompressedStrings</strong> - Use a byte[] for Strings which can be represented as pure ASCII.</p>
<p><strong>-XX:+OptimizeStringConcat</strong> - Optimize String concatenation operations where possible.</p>
<h4>Debugging Options</h4>
<p><em>Option and its default Value</em> is given for better understanding</p>
<p><strong>-XX:-CITime</strong> - Prints time spent in JIT Compiler.</p>
<p><strong>-XX:ErrorFile=./hs_err_pid&lt;pid&gt;.log</strong> - If an error occurs, save the error data to this file.</p>
<p><strong>-XX:-ExtendedDTraceProbes</strong> - Enable performance-impacting dtrace probes</p>
<p><strong>-XX:HeapDumpPath=./java_pid&lt;pid&gt;.hprof</strong> - Path to directory or filename for heap dump.</p>
<p><strong>-XX:-HeapDumpOnOutOfMemoryError</strong> - Dump heap to file when java.lang.OutOfMemoryError is thrown.</p>
<p><strong>-XX:OnError="&lt;cmd args&gt;;&lt;cmd args&gt;"</strong> - Run user-defined commands on fatal error</p>
<p><strong>-XX:OnOutOfMemoryError="&lt;cmd args&gt;;&lt;cmd args&gt;"</strong> - Run user-defined commands when an OutOfMemoryError is first thrown</p>
<p><strong>-XX:-PrintClassHistogram</strong> - Print a histogram of class instances on Ctrl-Break.</p>
<p><strong>-XX:-PrintConcurrentLocks</strong> - Print java.util.concurrent locks in Ctrl-Break thread dump.</p>
<p><strong>-XX:-PrintCommandLineFlags</strong> - Print flags that appeared on the command line.</p>
<p><strong>-XX:-PrintCompilation</strong> - Print message when a method is compiled.</p>
<p><strong>-XX:-PrintGC</strong> - Print messages at garbage collection.</p>
<p><strong>-XX:-PrintGCDetails</strong> - Print more details at garbage collection.</p>
<p><strong>-XX:-PrintGCTimeStamps</strong> - Print timestamps at garbage collection</p>
<p><strong>-XX:-PrintTenuringDistribution</strong> - Print tenuring age information.</p>
<p><strong>-XX:-TraceClassLoading</strong> - Trace loading of classes.</p>
<p><strong>-XX:-TraceClassLoadingPreorder</strong> - Trace all classes loaded in order referenced (not loaded)</p>
<p><strong>-XX:-TraceClassResolution</strong> - Trace constant pool resolutions</p>
<p><strong>-XX:-TraceClassUnloading</strong> - Trace unloading of classes</p>
<p><strong>-XX:-TraceLoaderConstraints</strong> - Trace recording of loader constraints</p>
<p><strong>-XX:+PerfSaveDataToFile</strong> - Saves jvmstat binary data on exit</p>
<p><strong>-XX:ParallelGCThreads=</strong> - Sets the number of garbage collection threads in the young and old parallel garbage collectors. <em>The default value varies with the platform on which the JVM is running.</em></p>
<p><strong>-XX:+UseCompressedOops</strong> - Enables the use of compressed pointers (object references represented as 32 bit offsets instead of 64-bit pointers) for optimized 64-bit performance with Java heap sizes less than 32gb.</p>
<p><strong>-XX:+AlwaysPreTouch</strong> - Pre-touch the Java heap during JVM initialization. <em>Every page of the heap is thus demand-zeroed during initialization rather than incrementally during application execution.</em></p>
<p><strong>-XX:AllocatePrefetchDistance=</strong> - Sets the prefetch distance for object allocation. <em>Memory about to be written with the value of new objects is prefetched into cache at this distance (in bytes) beyond the address of the last allocated object. Each Java thread has its own allocation point. The default value varies with the platform on which the JVM is running.</em></p>
<p><strong>-XX:InlineSmallCode=</strong> - Inline a previously compiled method only if its generated native code size          is less than this. The default value varies with the platform on which the JVM is running</p>
<p><strong>-XX:MaxInlineSize=35</strong> - Maximum bytecode size of a method to be inlined.</p>
<p><strong>-XX:FreqInlineSize=</strong> - Maximum bytecode size of a frequently executed method to be inlined. The          default value varies with the platform on which the JVM is running</p>
<p><strong>-XX:LoopUnrollLimit=</strong> - Unroll loop bodies with server compiler intermediate representation node          count less than this value.</p>
<p><strong>-XX:InitialTenuringThreshold=7</strong> - Sets the initial tenuring threshold for use in adaptive GC sizing in the parallel young collector. <em>The tenuring threshold is the number of times an object survives a young collection before being promoted to the old, or tenured, generation.</em></p>
<p><strong>-XX:MaxTenuringThreshold=</strong> - Sets the maximum tenuring threshold for use in adaptive GC sizing.</p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-lg-3 well well-sm" id="sidebar">
<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="icon-home icon-large"></i>Social</h4></li>
                    <li class="list-group-item"><a href="https://twitter.com/sengopal"><i
                            class="icon-twitter-sign icon-large"></i>twitter
                    </a></li>
                    <li class="list-group-item"><a href="http://github.com/sengopal/"><i
                            class="icon-github-sign icon-large"></i>github
                    </a></li>



        </ul>
    </section>


    <section>
    <ul class="list-group list-group-flush">
    <li class="list-group-item"><h4><i class="icon-github icon-large"></i>GitHub Repos</h4></li>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
    </ul>
        <script type="text/javascript">
            $(document).ready(function () {
                if (!window.jXHR) {
                    var jxhr = document.createElement('script');
                    jxhr.type = 'text/javascript';
                    jxhr.src = '/blog/theme/js/jXHR.js';
                    var s = document.getElementsByTagName('script')[0];
                    s.parentNode.insertBefore(jxhr, s);
                }

                github.showRepos({
                    user: 'sengopal',
                    count: 5,
                    skip_forks: true,
                    target: '#gh_repos'
                });
            });
        </script>
        <script src="/blog/theme/js/github.js" type="text/javascript"></script>
    </section>
</aside>        </div>
    </div>
</div>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/blog/theme/js/respond.min.js"></script>
</body>
</html>