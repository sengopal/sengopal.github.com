---
layout: post
title: Hashing and Checksum in Java
tags:
- java
status: publish
type: post
published: true
meta:
  jabber_published: '1313995425'
  _wpas_done_twitter: '1'
---
<p>I came across this <a href="http://www.mkyong.com/java/java-sha-hashing-example/" target="_blank">article</a> which gives a simple means to perform File Checksum and Hashing String in Java.</p> <h5><strong><u>Checksum generation</u></strong></h5><span style="widows:2;text-transform:none;background-color:rgb(249,249,249);text-indent:0;font:14px/20px arial, sans-serif;white-space:normal;orphans:2;letter-spacing:normal;color:rgb(17,0,0);word-spacing:0;" class="Apple-style-span"> <blockquote><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java"><span style="color:rgb(0,0,0);font-weight:bold;">public</span> <span style="color:rgb(0,0,0);font-weight:bold;">class</span> SHACheckSumExample
<span style="color:rgb(0,153,0);">{</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">public</span> <span style="color:rgb(0,0,0);font-weight:bold;">static</span> <span style="color:rgb(0,0,102);font-weight:bold;">void</span> main<span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,51,153);">String</span><span style="color:rgb(0,153,0);">[</span><span style="color:rgb(0,153,0);">]</span> args<span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,0,0);font-weight:bold;">throws</span> <span style="color:rgb(0,51,153);">Exception</span>
    <span style="color:rgb(0,153,0);">{</span>
        <span style="color:rgb(0,51,153);">MessageDigest</span> md <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,51,153);">MessageDigest</span>.<span style="color:rgb(0,102,51);">getInstance</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,255);">"SHA-256"</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,51,153);">FileInputStream</span> fis <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,0,0);font-weight:bold;">new</span> <span style="color:rgb(0,51,153);">FileInputStream</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,255);">"c:<span style="color:rgb(0,0,153);font-weight:bold;"></span>loging.log"</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>&nbsp;&nbsp; </pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="color:rgb(0,0,102);font-weight:bold;">byte</span><span style="color:rgb(0,153,0);">[</span><span style="color:rgb(0,153,0);">]</span> dataBytes <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,0,0);font-weight:bold;">new</span> <span style="color:rgb(0,0,102);font-weight:bold;">byte</span><span style="color:rgb(0,153,0);">[</span><span style="color:rgb(204,102,204);">1024</span><span style="color:rgb(0,153,0);">]</span><span style="color:rgb(51,153,51);">;</span>&nbsp;&nbsp; <span style="color:rgb(0,0,102);font-weight:bold;">int</span> nread <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(204,102,204);">0</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,0,0);font-weight:bold;">while</span> <span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">(</span>nread <span style="color:rgb(51,153,51);">=</span> fis.<span style="color:rgb(0,102,51);">read</span><span style="color:rgb(0,153,0);">(</span>dataBytes<span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span> <span style="color:rgb(51,153,51);">!=</span> <span style="color:rgb(51,153,51);">-</span><span style="color:rgb(204,102,204);">1</span><span style="color:rgb(0,153,0);">)</span> <span style="color:rgb(0,153,0);">{</span>
          md.<span style="color:rgb(0,102,51);">update</span><span style="color:rgb(0,153,0);">(</span>dataBytes, <span style="color:rgb(204,102,204);">0</span>, nread<span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,153,0);">}</span><span style="color:rgb(51,153,51);">;</span>
<span style="font-style:italic;color:rgb(102,102,102);">        //convert the byte to hex format method 1</span> </pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="color:rgb(0,0,102);font-weight:bold;">byte</span><span style="color:rgb(0,153,0);">[</span><span style="color:rgb(0,153,0);">]</span> mdbytes <span style="color:rgb(51,153,51);">=</span> md.<span style="color:rgb(0,102,51);">digest</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>&nbsp;&nbsp; </pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="color:rgb(0,51,153);">StringBuffer</span> sb <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,0,0);font-weight:bold;">new</span> <span style="color:rgb(0,51,153);">StringBuffer</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,0,0);font-weight:bold;">for</span> <span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,102);font-weight:bold;">int</span> i <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(204,102,204);">0</span><span style="color:rgb(51,153,51);">;</span> i <span style="color:rgb(51,153,51);">&lt;</span> mdbytes.<span style="color:rgb(0,102,51);">length</span><span style="color:rgb(51,153,51);">;</span> i<span style="color:rgb(51,153,51);">++</span><span style="color:rgb(0,153,0);">)</span> <span style="color:rgb(0,153,0);">{</span>
          sb.<span style="color:rgb(0,102,51);">append</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,51,153);">Integer</span>.<span style="color:rgb(0,102,51);">toString</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">(</span>mdbytes<span style="color:rgb(0,153,0);">[</span>i<span style="color:rgb(0,153,0);">]</span> <span style="color:rgb(51,153,51);">&amp;</span> 0xff<span style="color:rgb(0,153,0);">)</span> <span style="color:rgb(51,153,51);">+</span> 0x100, <span style="color:rgb(204,102,204);">16</span><span style="color:rgb(0,153,0);">)</span>.<span style="color:rgb(0,102,51);">substring</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(204,102,204);">1</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,153,0);">}</span>&nbsp;&nbsp; </pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="font-style:italic;color:rgb(102,102,102);">//convert the byte to hex format method 2</span></pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="color:rgb(0,51,153);">System</span>.<span style="color:rgb(0,102,51);">out</span>.<span style="color:rgb(0,102,51);">println</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,255);">"Hex format : "</span> <span style="color:rgb(51,153,51);">+</span> sb.<span style="color:rgb(0,102,51);">toString</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,51,153);">StringBuffer</span> hexString <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,0,0);font-weight:bold;">new</span> <span style="color:rgb(0,51,153);">StringBuffer</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
    	<span style="color:rgb(0,0,0);font-weight:bold;">for</span> <span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,102);font-weight:bold;">int</span> i<span style="color:rgb(51,153,51);">=</span><span style="color:rgb(204,102,204);">0</span><span style="color:rgb(51,153,51);">;</span>i<span style="color:rgb(51,153,51);">&lt;</span>mdbytes.<span style="color:rgb(0,102,51);">length</span><span style="color:rgb(51,153,51);">;</span>i<span style="color:rgb(51,153,51);">++</span><span style="color:rgb(0,153,0);">)</span> <span style="color:rgb(0,153,0);">{</span>
    	  hexString.<span style="color:rgb(0,102,51);">append</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,51,153);">Integer</span>.<span style="color:rgb(0,102,51);">toHexString</span><span style="color:rgb(0,153,0);">(</span>0xFF <span style="color:rgb(51,153,51);">&amp;</span> mdbytes<span style="color:rgb(0,153,0);">[</span>i<span style="color:rgb(0,153,0);">]</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
    	<span style="color:rgb(0,153,0);">}</span>&nbsp;&nbsp; <span style="color:rgb(0,51,153);">System</span>.<span style="color:rgb(0,102,51);">out</span>.<span style="color:rgb(0,102,51);">println</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,255);">"Hex format : "</span> <span style="color:rgb(51,153,51);">+</span> hexString.<span style="color:rgb(0,102,51);">toString</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
    <span style="color:rgb(0,153,0);">}</span>
<span style="color:rgb(0,153,0);">}</span></pre></blockquote></span>
<p>&nbsp;</p>
<h5><strong><u>Hashing of a String</u></strong></h5><span style="widows:2;text-transform:none;background-color:rgb(249,249,249);text-indent:0;font:14px/20px arial, sans-serif;white-space:normal;orphans:2;letter-spacing:normal;color:rgb(17,0,0);word-spacing:0;" class="Apple-style-span">
<blockquote><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java"><span style="color:rgb(0,0,0);font-weight:bold;">public</span> <span style="color:rgb(0,0,0);font-weight:bold;">class</span> SHAHashingExample
<span style="color:rgb(0,153,0);">{</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">public</span> <span style="color:rgb(0,0,0);font-weight:bold;">static</span> <span style="color:rgb(0,0,102);font-weight:bold;">void</span> main<span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,51,153);">String</span><span style="color:rgb(0,153,0);">[</span><span style="color:rgb(0,153,0);">]</span> args<span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,0,0);font-weight:bold;">throws</span> <span style="color:rgb(0,51,153);">Exception</span>
    <span style="color:rgb(0,153,0);">{</span>
        <span style="color:rgb(0,51,153);">String</span> password <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,0,255);">"123456"</span><span style="color:rgb(51,153,51);">;</span>&nbsp;&nbsp; </pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="color:rgb(0,51,153);">MessageDigest</span> md <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,51,153);">MessageDigest</span>.<span style="color:rgb(0,102,51);">getInstance</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,255);">"SHA-256"</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        md.<span style="color:rgb(0,102,51);">update</span><span style="color:rgb(0,153,0);">(</span>password.<span style="color:rgb(0,102,51);">getBytes</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>&nbsp;&nbsp; </pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="color:rgb(0,0,102);font-weight:bold;">byte</span> byteData<span style="color:rgb(0,153,0);">[</span><span style="color:rgb(0,153,0);">]</span> <span style="color:rgb(51,153,51);">=</span> md.<span style="color:rgb(0,102,51);">digest</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>&nbsp;&nbsp; <span style="font-style:italic;color:rgb(102,102,102);">//convert the byte to hex format method 1</span>
        <span style="color:rgb(0,51,153);">StringBuffer</span> sb <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,0,0);font-weight:bold;">new</span> <span style="color:rgb(0,51,153);">StringBuffer</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,0,0);font-weight:bold;">for</span> <span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,102);font-weight:bold;">int</span> i <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(204,102,204);">0</span><span style="color:rgb(51,153,51);">;</span> i <span style="color:rgb(51,153,51);">&lt;</span> byteData.<span style="color:rgb(0,102,51);">length</span><span style="color:rgb(51,153,51);">;</span> i<span style="color:rgb(51,153,51);">++</span><span style="color:rgb(0,153,0);">)</span> <span style="color:rgb(0,153,0);">{</span>
         sb.<span style="color:rgb(0,102,51);">append</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,51,153);">Integer</span>.<span style="color:rgb(0,102,51);">toString</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">(</span>byteData<span style="color:rgb(0,153,0);">[</span>i<span style="color:rgb(0,153,0);">]</span> <span style="color:rgb(51,153,51);">&amp;</span> 0xff<span style="color:rgb(0,153,0);">)</span> <span style="color:rgb(51,153,51);">+</span> 0x100, <span style="color:rgb(204,102,204);">16</span><span style="color:rgb(0,153,0);">)</span>.<span style="color:rgb(0,102,51);">substring</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(204,102,204);">1</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,153,0);">}</span>&nbsp;&nbsp; </pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="font-style:italic;color:rgb(102,102,102);">//convert the byte to hex format method 2</span></pre><pre style="line-height:1.333;width:auto;font-family:monospace;white-space:pre;clear:none;font-size:12px;margin:0;" class="java">        <span style="color:rgb(0,51,153);">System</span>.<span style="color:rgb(0,102,51);">out</span>.<span style="color:rgb(0,102,51);">println</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,255);">"Hex format : "</span> <span style="color:rgb(51,153,51);">+</span> sb.<span style="color:rgb(0,102,51);">toString</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
        <span style="color:rgb(0,51,153);">StringBuffer</span> hexString <span style="color:rgb(51,153,51);">=</span> <span style="color:rgb(0,0,0);font-weight:bold;">new</span> <span style="color:rgb(0,51,153);">StringBuffer</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
    	<span style="color:rgb(0,0,0);font-weight:bold;">for</span> <span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,102);font-weight:bold;">int</span> i<span style="color:rgb(51,153,51);">=</span><span style="color:rgb(204,102,204);">0</span><span style="color:rgb(51,153,51);">;</span>i<span style="color:rgb(51,153,51);">&lt;</span>byteData.<span style="color:rgb(0,102,51);">length</span><span style="color:rgb(51,153,51);">;</span>i<span style="color:rgb(51,153,51);">++</span><span style="color:rgb(0,153,0);">)</span> <span style="color:rgb(0,153,0);">{</span>
    		<span style="color:rgb(0,51,153);">String</span> hex<span style="color:rgb(51,153,51);">=</span><span style="color:rgb(0,51,153);">Integer</span>.<span style="color:rgb(0,102,51);">toHexString</span><span style="color:rgb(0,153,0);">(</span>0xff <span style="color:rgb(51,153,51);">&amp;</span> byteData<span style="color:rgb(0,153,0);">[</span>i<span style="color:rgb(0,153,0);">]</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
   	     	<span style="color:rgb(0,0,0);font-weight:bold;">if</span><span style="color:rgb(0,153,0);">(</span>hex.<span style="color:rgb(0,102,51);">length</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">==</span><span style="color:rgb(204,102,204);">1</span><span style="color:rgb(0,153,0);">)</span> hexString.<span style="color:rgb(0,102,51);">append</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,255);">'0'</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
   	     	hexString.<span style="color:rgb(0,102,51);">append</span><span style="color:rgb(0,153,0);">(</span>hex<span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
    	<span style="color:rgb(0,153,0);">}</span>
    	<span style="color:rgb(0,51,153);">System</span>.<span style="color:rgb(0,102,51);">out</span>.<span style="color:rgb(0,102,51);">println</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,0,255);">"Hex format : "</span> <span style="color:rgb(51,153,51);">+</span> hexString.<span style="color:rgb(0,102,51);">toString</span><span style="color:rgb(0,153,0);">(</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(0,153,0);">)</span><span style="color:rgb(51,153,51);">;</span>
    <span style="color:rgb(0,153,0);">}</span>
<span style="color:rgb(0,153,0);">}</span></pre>
<p></p></blockquote></span>
